
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Class MicroBitRadio &#8212; CODAL v0.2.40-1-gb587d9c documentation</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-treeview/bootstrap-treeview.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script src="../_static/bootstrap-treeview/bootstrap-treeview.min.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
      
      
      <h1 class="site-logo" id="site-title">CODAL v0.2.40-1-gb587d9c documentation</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../index.html">
                    CODAL Documentation
                </a>
            </li>
        </ul>
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../getting-started.html">
   Getting Started with CODAL
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../components/index.html">
   Components
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../components/buttons.html">
     Buttons and Touch Input
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../components/display.html">
     Display
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../components/mic-and-speaker.html">
     Microphone and Speaker
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../components/edge-connector.html">
     Edge Connector
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../components/sensors.html">
     Sensors
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../guides/index.html">
   Guides
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../guides/prerequisites.html">
     Installation - Tools
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../guides/codal-projects.html">
     CODAL Projects
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../projects/index.html">
   Projects
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../projects/disco-lights.html">
     Disco Lights
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../codal-api.html">
   The Complete CODAL API
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="simple">
  </ul>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Theme by the <a href="https://ebp.jupyterbook.org">Executable Book Project</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>
<a href="https://github.com/lancaster-university/codal-documentation"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="bottom"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>

</a>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#inheritance-relationships">
   Inheritance Relationships
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#base-type">
     Base Type
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#class-documentation">
   Class Documentation
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Class MicroBitRadio</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#inheritance-relationships">
   Inheritance Relationships
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#base-type">
     Base Type
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#class-documentation">
   Class Documentation
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section id="class-microbitradio">
<span id="exhale-class-classcodal-1-1microbitradio"></span><h1>Class MicroBitRadio<a class="headerlink" href="#class-microbitradio" title="Permalink to this headline">#</a></h1>
<ul class="simple">
<li><p>Defined in <a class="reference internal" href="file__home_runner_work_codal-documentation_codal-documentation_libraries_codal-microbit-v2_inc_MicroBitRadio.h.html#file-home-runner-work-codal-documentation-codal-documentation-libraries-codal-microbit-v2-inc-microbitradio-h"><span class="std std-ref">File MicroBitRadio.h</span></a></p></li>
</ul>
<section id="inheritance-relationships">
<h2>Inheritance Relationships<a class="headerlink" href="#inheritance-relationships" title="Permalink to this headline">#</a></h2>
<section id="base-type">
<h3>Base Type<a class="headerlink" href="#base-type" title="Permalink to this headline">#</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">private</span> <span class="pre">codal::CodalComponent</span></code> (<a class="reference internal" href="classcodal_1_1CodalComponent.html#exhale-class-classcodal-1-1codalcomponent"><span class="std std-ref">Class CodalComponent</span></a>)</p></li>
</ul>
</section>
</section>
<section id="class-documentation">
<h2>Class Documentation<a class="headerlink" href="#class-documentation" title="Permalink to this headline">#</a></h2>
<dl class="cpp class">
<dt class="sig sig-object cpp" id="_CPPv4N5codal13MicroBitRadioE">
<span id="_CPPv3N5codal13MicroBitRadioE"></span><span id="_CPPv2N5codal13MicroBitRadioE"></span><span id="codal::MicroBitRadio"></span><span class="target" id="classcodal_1_1MicroBitRadio"></span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MicroBitRadio</span></span></span><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="k"><span class="pre">private</span></span><span class="w"> </span><span class="n"><span class="pre">codal</span></span><span class="p"><span class="pre">::</span></span><a class="reference internal" href="classcodal_1_1CodalComponent.html#_CPPv4N5codal14CodalComponentE" title="codal::CodalComponent"><span class="n"><span class="pre">CodalComponent</span></span></a><a class="headerlink" href="#_CPPv4N5codal13MicroBitRadioE" title="Permalink to this definition">#</a><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-functions">Public Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N5codal13MicroBitRadio13MicroBitRadioE8uint16_t">
<span id="_CPPv3N5codal13MicroBitRadio13MicroBitRadioE8uint16_t"></span><span id="_CPPv2N5codal13MicroBitRadio13MicroBitRadioE8uint16_t"></span><span id="codal::MicroBitRadio::MicroBitRadio__uint16_t"></span><span class="target" id="classcodal_1_1MicroBitRadio_1a99c4390ec9c1d6fdc0cd53cd1e6097df"></span><span class="sig-name descname"><span class="n"><span class="pre">MicroBitRadio</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">id</span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">DEVICE_ID_RADIO</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5codal13MicroBitRadio13MicroBitRadioE8uint16_t" title="Permalink to this definition">#</a><br /></dt>
<dd><p>Constructor.</p>
<p>Initialise the <a class="reference internal" href="#classcodal_1_1MicroBitRadio"><span class="std std-ref">MicroBitRadio</span></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This class is demand activated, as a result most resources are only committed if send/recv or event registrations calls are made. </p>
</div>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N5codal13MicroBitRadio16setTransmitPowerEi">
<span id="_CPPv3N5codal13MicroBitRadio16setTransmitPowerEi"></span><span id="_CPPv2N5codal13MicroBitRadio16setTransmitPowerEi"></span><span id="codal::MicroBitRadio::setTransmitPower__i"></span><span class="target" id="classcodal_1_1MicroBitRadio_1a22c58555cb966cac91b019b4a3224ea4"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">setTransmitPower</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">power</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5codal13MicroBitRadio16setTransmitPowerEi" title="Permalink to this definition">#</a><br /></dt>
<dd><p>Change the output power level of the transmitter to the given value.</p>
<p>
Change the output power level of the transmitter to the given value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>power</strong> – a value in the range 0..7, where 0 is the lowest power and 7 is the highest.</p></li>
<li><p><strong>power</strong> – a value in the range 0..7, where 0 is the lowest power and 7 is the highest.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>MICROBIT_OK on success, or MICROBIT_INVALID_PARAMETER if the value is out of range.</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>DEVICE_OK on success, or DEVICE_INVALID_PARAMETER if the value is out of range. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N5codal13MicroBitRadio16setFrequencyBandEi">
<span id="_CPPv3N5codal13MicroBitRadio16setFrequencyBandEi"></span><span id="_CPPv2N5codal13MicroBitRadio16setFrequencyBandEi"></span><span id="codal::MicroBitRadio::setFrequencyBand__i"></span><span class="target" id="classcodal_1_1MicroBitRadio_1ad678111bc8b52e3e503c13c99292488d"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">setFrequencyBand</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">band</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5codal13MicroBitRadio16setFrequencyBandEi" title="Permalink to this definition">#</a><br /></dt>
<dd><p>Change the transmission and reception band of the radio to the given channel</p>
<p>
Change the transmission and reception band of the radio to the given channel</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>band</strong> – a frequency band in the range 0 - 100. Each step is 1MHz wide, based at 2400MHz.</p></li>
<li><p><strong>band</strong> – a frequency band in the range 0 - 100. Each step is 1MHz wide, based at 2400MHz.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>MICROBIT_OK on success, or MICROBIT_INVALID_PARAMETER if the value is out of range, or MICROBIT_NOT_SUPPORTED if the BLE stack is running.</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>DEVICE_OK on success, or DEVICE_INVALID_PARAMETER if the value is out of range, or DEVICE_NOT_SUPPORTED if the BLE stack is running. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N5codal13MicroBitRadio8getRxBufEv">
<span id="_CPPv3N5codal13MicroBitRadio8getRxBufEv"></span><span id="_CPPv2N5codal13MicroBitRadio8getRxBufEv"></span><span id="codal::MicroBitRadio::getRxBuf"></span><span class="target" id="classcodal_1_1MicroBitRadio_1a41caabb768ac6a4c4699ab12b8dc916f"></span><a class="reference internal" href="structcodal_1_1FrameBuffer.html#_CPPv4N5codal11FrameBufferE" title="codal::FrameBuffer"><span class="n"><span class="pre">FrameBuffer</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">getRxBuf</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5codal13MicroBitRadio8getRxBufEv" title="Permalink to this definition">#</a><br /></dt>
<dd><p>Retrieve a pointer to the currently allocated receive buffer. This is the area of memory actively being used by the radio hardware to store incoming data.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a pointer to the current receive buffer. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N5codal13MicroBitRadio10queueRxBufEv">
<span id="_CPPv3N5codal13MicroBitRadio10queueRxBufEv"></span><span id="_CPPv2N5codal13MicroBitRadio10queueRxBufEv"></span><span id="codal::MicroBitRadio::queueRxBuf"></span><span class="target" id="classcodal_1_1MicroBitRadio_1a2e51ee9c5cfb29222c53f846fad5f3c1"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">queueRxBuf</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5codal13MicroBitRadio10queueRxBufEv" title="Permalink to this definition">#</a><br /></dt>
<dd><p>Attempt to queue a buffer received by the radio hardware, if sufficient space is available.</p>
<p>
Attempt to queue a buffer received by the radio hardware, if sufficient space is available.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>MICROBIT_OK on success, or MICROBIT_NO_RESOURCES if a replacement receiver buffer could not be allocated (either by policy or memory exhaustion).</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>DEVICE_OK on success, or DEVICE_NO_RESOURCES if a replacement receiver buffer could not be allocated (either by policy or memory exhaustion). </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N5codal13MicroBitRadio7setRSSIEi">
<span id="_CPPv3N5codal13MicroBitRadio7setRSSIEi"></span><span id="_CPPv2N5codal13MicroBitRadio7setRSSIEi"></span><span id="codal::MicroBitRadio::setRSSI__i"></span><span class="target" id="classcodal_1_1MicroBitRadio_1a3e6d2d77e2e0ee53d4841b71688ff0f0"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">setRSSI</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">rssi</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5codal13MicroBitRadio7setRSSIEi" title="Permalink to this definition">#</a><br /></dt>
<dd><p>Sets the RSSI for the most recent packet. The value is measured in -dbm. The higher the value, the stronger the signal. Typical values are in the range -42 to -128.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>should only be called from RADIO_IRQHandler… </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>rssi</strong> – the new rssi value.</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N5codal13MicroBitRadio7getRSSIEv">
<span id="_CPPv3N5codal13MicroBitRadio7getRSSIEv"></span><span id="_CPPv2N5codal13MicroBitRadio7getRSSIEv"></span><span id="codal::MicroBitRadio::getRSSI"></span><span class="target" id="classcodal_1_1MicroBitRadio_1aa8eb8db40df78759a0a44b46d2ac11bb"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">getRSSI</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5codal13MicroBitRadio7getRSSIEv" title="Permalink to this definition">#</a><br /></dt>
<dd><p>Retrieves the current RSSI for the most recent packet. The return value is measured in -dbm. The higher the value, the stronger the signal. Typical values are in the range -42 to -128.</p>
<p>
Retrieves the current RSSI for the most recent packet. The return value is measured in -dbm. The higher the value, the stronger the signal. Typical values are in the range -42 to -128.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the most recent RSSI value or MICROBIT_NOT_SUPPORTED if the BLE stack is running.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the most recent RSSI value or DEVICE_NOT_SUPPORTED if the BLE stack is running. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N5codal13MicroBitRadio6enableEv">
<span id="_CPPv3N5codal13MicroBitRadio6enableEv"></span><span id="_CPPv2N5codal13MicroBitRadio6enableEv"></span><span id="codal::MicroBitRadio::enable"></span><span class="target" id="classcodal_1_1MicroBitRadio_1a93853362380c62268cb2d717dfce507a"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">enable</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5codal13MicroBitRadio6enableEv" title="Permalink to this definition">#</a><br /></dt>
<dd><p>Initialises the radio for use as a multipoint sender/receiver</p>
<p>
Initialises the radio for use as a multipoint sender/receiver</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>MICROBIT_OK on success, MICROBIT_NOT_SUPPORTED if the BLE stack is running.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>DEVICE_OK on success, DEVICE_NOT_SUPPORTED if the BLE stack is running. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N5codal13MicroBitRadio7disableEv">
<span id="_CPPv3N5codal13MicroBitRadio7disableEv"></span><span id="_CPPv2N5codal13MicroBitRadio7disableEv"></span><span id="codal::MicroBitRadio::disable"></span><span class="target" id="classcodal_1_1MicroBitRadio_1aadda168d5c441492cd2e2c3c65bf9cd6"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">disable</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5codal13MicroBitRadio7disableEv" title="Permalink to this definition">#</a><br /></dt>
<dd><p>Disables the radio for use as a multipoint sender/receiver.</p>
<p>
Disables the radio for use as a multipoint sender/receiver.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>MICROBIT_OK on success, MICROBIT_NOT_SUPPORTED if the BLE stack is running.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>DEVICE_OK on success, DEVICE_NOT_SUPPORTED if the BLE stack is running. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N5codal13MicroBitRadio8setGroupE7uint8_t">
<span id="_CPPv3N5codal13MicroBitRadio8setGroupE7uint8_t"></span><span id="_CPPv2N5codal13MicroBitRadio8setGroupE7uint8_t"></span><span id="codal::MicroBitRadio::setGroup__uint8_t"></span><span class="target" id="classcodal_1_1MicroBitRadio_1aaea63063ec112da0da66100023537cfc"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">setGroup</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">group</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5codal13MicroBitRadio8setGroupE7uint8_t" title="Permalink to this definition">#</a><br /></dt>
<dd><p>Sets the radio to listen to packets sent with the given group id.</p>
<p>
Sets the radio to listen to packets sent with the given group id.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>group</strong> – The group to join. A micro:bit can only listen to one group ID at any time.</p></li>
<li><p><strong>group</strong> – The group to join. A micro:bit can only listen to one group ID at any time.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>MICROBIT_OK on success, or MICROBIT_NOT_SUPPORTED if the BLE stack is running.</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>DEVICE_OK on success, or DEVICE_NOT_SUPPORTED if the BLE stack is running. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N5codal13MicroBitRadio12idleCallbackEv">
<span id="_CPPv3N5codal13MicroBitRadio12idleCallbackEv"></span><span id="_CPPv2N5codal13MicroBitRadio12idleCallbackEv"></span><span id="codal::MicroBitRadio::idleCallback"></span><span class="target" id="classcodal_1_1MicroBitRadio_1a53d474c73e3088ac7baa458d8719d60f"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">idleCallback</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5codal13MicroBitRadio12idleCallbackEv" title="Permalink to this definition">#</a><br /></dt>
<dd><p>A background, low priority callback that is triggered whenever the processor is idle. Here, we empty our queue of received packets, and pass them onto higher level protocol handlers. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N5codal13MicroBitRadio9dataReadyEv">
<span id="_CPPv3N5codal13MicroBitRadio9dataReadyEv"></span><span id="_CPPv2N5codal13MicroBitRadio9dataReadyEv"></span><span id="codal::MicroBitRadio::dataReady"></span><span class="target" id="classcodal_1_1MicroBitRadio_1a2f1bd649c6bb8558a13de516d3a91164"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">dataReady</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5codal13MicroBitRadio9dataReadyEv" title="Permalink to this definition">#</a><br /></dt>
<dd><p>Determines the number of packets ready to be processed.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The number of packets in the receive buffer. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N5codal13MicroBitRadio4recvEv">
<span id="_CPPv3N5codal13MicroBitRadio4recvEv"></span><span id="_CPPv2N5codal13MicroBitRadio4recvEv"></span><span id="codal::MicroBitRadio::recv"></span><span class="target" id="classcodal_1_1MicroBitRadio_1a374a3ab6c089a57ebb3e7276c4c713dd"></span><a class="reference internal" href="structcodal_1_1FrameBuffer.html#_CPPv4N5codal11FrameBufferE" title="codal::FrameBuffer"><span class="n"><span class="pre">FrameBuffer</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">recv</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5codal13MicroBitRadio4recvEv" title="Permalink to this definition">#</a><br /></dt>
<dd><p>Retrieves the next packet from the receive buffer. If a data packet is available, then it will be returned immediately to the caller. This call will also dequeue the buffer.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Once <a class="reference internal" href="#classcodal_1_1MicroBitRadio_1a374a3ab6c089a57ebb3e7276c4c713dd"><span class="std std-ref">recv()</span></a> has been called, it is the callers responsibility to delete the buffer when appropriate. </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The buffer containing the the packet. If no data is available, NULL is returned.</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N5codal13MicroBitRadio4sendEP11FrameBuffer">
<span id="_CPPv3N5codal13MicroBitRadio4sendEP11FrameBuffer"></span><span id="_CPPv2N5codal13MicroBitRadio4sendEP11FrameBuffer"></span><span id="codal::MicroBitRadio::send__FrameBufferP"></span><span class="target" id="classcodal_1_1MicroBitRadio_1a20a6f5c9b7e45c8e624da711098273f8"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">send</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="structcodal_1_1FrameBuffer.html#_CPPv4N5codal11FrameBufferE" title="codal::FrameBuffer"><span class="n"><span class="pre">FrameBuffer</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">buffer</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N5codal13MicroBitRadio4sendEP11FrameBuffer" title="Permalink to this definition">#</a><br /></dt>
<dd><p>Transmits the given buffer onto the broadcast radio. The call will wait until the transmission of the packet has completed before returning.</p>
<p>
Transmits the given buffer onto the broadcast radio. The call will wait until the transmission of the packet has completed before returning.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – The packet contents to transmit.</p></li>
<li><p><strong>data</strong> – The packet contents to transmit.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>MICROBIT_OK on success, or MICROBIT_NOT_SUPPORTED if the BLE stack is running.</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>DEVICE_OK on success, or DEVICE_NOT_SUPPORTED if the BLE stack is running. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N5codal13MicroBitRadio8setSleepEb">
<span id="_CPPv3N5codal13MicroBitRadio8setSleepEb"></span><span id="_CPPv2N5codal13MicroBitRadio8setSleepEb"></span><span id="codal::MicroBitRadio::setSleep__b"></span><span class="target" id="classcodal_1_1MicroBitRadio_1a319319823dac16ca155933f316b5f98f"></span><span class="k"><span class="pre">virtual</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">setSleep</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">doSleep</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">override</span></span><a class="headerlink" href="#_CPPv4N5codal13MicroBitRadio8setSleepEb" title="Permalink to this definition">#</a><br /></dt>
<dd><p>Puts the component in (or out of) sleep (low power) mode. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N5codal13MicroBitRadio8datagramE">
<span id="_CPPv3N5codal13MicroBitRadio8datagramE"></span><span id="_CPPv2N5codal13MicroBitRadio8datagramE"></span><span id="codal::MicroBitRadio::datagram__MicroBitRadioDatagram"></span><span class="target" id="classcodal_1_1MicroBitRadio_1a2c9cc2f8fda964c6b757825e24e31e54"></span><a class="reference internal" href="classcodal_1_1MicroBitRadioDatagram.html#_CPPv4N5codal21MicroBitRadioDatagramE" title="codal::MicroBitRadioDatagram"><span class="n"><span class="pre">MicroBitRadioDatagram</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">datagram</span></span></span><a class="headerlink" href="#_CPPv4N5codal13MicroBitRadio8datagramE" title="Permalink to this definition">#</a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N5codal13MicroBitRadio5eventE">
<span id="_CPPv3N5codal13MicroBitRadio5eventE"></span><span id="_CPPv2N5codal13MicroBitRadio5eventE"></span><span id="codal::MicroBitRadio::event__MicroBitRadioEvent"></span><span class="target" id="classcodal_1_1MicroBitRadio_1a5a2360f5d2003c4c993446adf959d8c9"></span><a class="reference internal" href="classcodal_1_1MicroBitRadioEvent.html#_CPPv4N5codal18MicroBitRadioEventE" title="codal::MicroBitRadioEvent"><span class="n"><span class="pre">MicroBitRadioEvent</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">event</span></span></span><a class="headerlink" href="#_CPPv4N5codal13MicroBitRadio5eventE" title="Permalink to this definition">#</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-static-attributes">Public Static Attributes</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N5codal13MicroBitRadio8instanceE">
<span id="_CPPv3N5codal13MicroBitRadio8instanceE"></span><span id="_CPPv2N5codal13MicroBitRadio8instanceE"></span><span id="codal::MicroBitRadio::instance__MicroBitRadioP"></span><span class="target" id="classcodal_1_1MicroBitRadio_1a87fff697cb02bf4ad1ef95f65b5bf868"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4N5codal13MicroBitRadioE" title="codal::MicroBitRadio"><span class="n"><span class="pre">MicroBitRadio</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">instance</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">NULL</span></span><a class="headerlink" href="#_CPPv4N5codal13MicroBitRadio8instanceE" title="Permalink to this definition">#</a><br /></dt>
<dd><p>Provides a simple broadcast radio abstraction, built upon the raw nrf51822 RADIO module.</p>
<p>The nrf51822 RADIO module supports a number of proprietary modes of operation in addition to the typical BLE usage. This class uses one of these modes to enable simple, point to multipoint communication directly between micro:bits.</p>
<p>TODO: The protocols implemented here do not currently perform any significant form of energy management, which means that they will consume far more energy than their BLE equivalent. Later versions of the protocol should look to address this through energy efficient broadcast techniques / sleep scheduling. In particular, the GLOSSY approach to efficient rebroadcast and network synchronisation would likely provide an effective future step.</p>
<p>TODO: Meshing should also be considered - again a GLOSSY approach may be effective here, and highly complementary to the master/slave arachitecture of BLE.</p>
<p>TODO: This implementation may only operated whilst the BLE stack is disabled. The nrf51822 provides a timeslot API to allow BLE to cohabit with other protocols. Future work to allow this colocation would be benefical, and would also allow for the creation of wireless BLE bridges.</p>
<p>NOTE: This API does not contain any form of encryption, authentication or authorisation. Its purpose is solely for use as a teaching aid to demonstrate how simple communications operates, and to provide a sandpit through which learning can take place. For serious applications, BLE should be considered a substantially more secure alternative. </p>
</dd></dl>

</div>
</dd></dl>

</section>
</section>


              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Microbit Foundation, Lancaster University<br/>
  
      &copy; Copyright 2022, Microbit Foundation, Lancaster University.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>