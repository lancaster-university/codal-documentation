
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>CODAL Projects &#8212; CODAL v0.2.40-1-gb587d9c documentation</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-treeview/bootstrap-treeview.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script src="../_static/bootstrap-treeview/bootstrap-treeview.min.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Projects" href="../projects/index.html" />
    <link rel="prev" title="Installation - Tools" href="prerequisites.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
      
      
      <h1 class="site-logo" id="site-title">CODAL v0.2.40-1-gb587d9c documentation</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../index.html">
                    CODAL Documentation
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../getting-started.html">
   Getting Started with CODAL
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../components/index.html">
   Components
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../components/buttons.html">
     Buttons and Touch Input
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../components/display.html">
     Display
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../components/mic-and-speaker.html">
     Microphone and Speaker
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../components/edge-connector.html">
     Edge Connector
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../components/sensors.html">
     Sensors
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="index.html">
   Guides
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="prerequisites.html">
     Installation - Tools
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     CODAL Projects
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../projects/index.html">
   Projects
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../projects/disco-lights.html">
     Disco Lights
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../codal-api.html">
   The Complete CODAL API
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="simple">
  </ul>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Theme by the <a href="https://ebp.jupyterbook.org">Executable Book Project</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>
<a href="https://github.com/lancaster-university/codal-documentation"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="bottom"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>

</a>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#creating-new-projects-codal-bootstrap">
   Creating New Projects (CODAL Bootstrap)
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#setting-up-a-visual-studio-code-environment">
   Setting up a Visual Studio Code Environment
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#debugging-in-visual-studio-code">
   Debugging in Visual Studio Code
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#older-projects">
   Older Projects
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>CODAL Projects</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#creating-new-projects-codal-bootstrap">
   Creating New Projects (CODAL Bootstrap)
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#setting-up-a-visual-studio-code-environment">
   Setting up a Visual Studio Code Environment
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#debugging-in-visual-studio-code">
   Debugging in Visual Studio Code
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#older-projects">
   Older Projects
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section id="codal-projects">
<h1>CODAL Projects<a class="headerlink" href="#codal-projects" title="Permalink to this headline">#</a></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This guide covers the setup needed for new projects, but does not include how to install the required tools.
Please see <a class="reference internal" href="prerequisites.html"><span class="doc">Installation - Tools</span></a> for your operating system for how to install the applications and tools to build CODAL applications.</p>
</div>
<section id="creating-new-projects-codal-bootstrap">
<h2>Creating New Projects (CODAL Bootstrap)<a class="headerlink" href="#creating-new-projects-codal-bootstrap" title="Permalink to this headline">#</a></h2>
<p>A simple way to get started developing in CODAL is to use <a class="reference external" href="https://github.com/lancaster-university/codal-bootstrap">codal-bootstrap</a> to generate
a new C++ project structure for us.</p>
<p>To do this, we need to get the current bootstrap build file which we will use to both set up, and compile our project.</p>
<ol class="arabic simple">
<li><p>Create a new folder for our project, here we will refer to it as <code class="docutils literal notranslate"><span class="pre">app</span></code></p></li>
<li><p>Download a copy of <code class="docutils literal notranslate"><span class="pre">build.py</span></code> from <code class="docutils literal notranslate"><span class="pre">codal-bootstrap</span></code> into our new <code class="docutils literal notranslate"><span class="pre">app</span></code> folder</p></li>
<li><p>Open a console or terminal window and navigate to our new <code class="docutils literal notranslate"><span class="pre">app</span></code> folder</p></li>
<li><p>Run <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">build.py</span></code> to download the build tools</p></li>
</ol>
<p>At this point, we will be presented with a choice of platform, this determines which device we want to build our application for.
Note that this does not lock your project into <em>only</em> being able to build for this platform, and it can be changed at a later stage; but for now
we want to choose the <code class="docutils literal notranslate"><span class="pre">codal-microbit-v2</span></code> target to build for the Micro:bit v2 by running <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">build.py</span> <span class="pre">codal-microbit-v2</span></code></p>
<p>Once the tool has downloaded all the required libraries to build for the Micro:bit, you should have a working project with a bare-bones program
ready to compile.</p>
<p>To compile your project, run <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">build.py</span></code> with no arguments and if all goes well, you should be left with a <code class="docutils literal notranslate"><span class="pre">MICROBIT.hex</span></code> file which can
be flashed to your Micro:bit by copying it to the Micro:bit disk.</p>
</section>
<section id="setting-up-a-visual-studio-code-environment">
<h2>Setting up a Visual Studio Code Environment<a class="headerlink" href="#setting-up-a-visual-studio-code-environment" title="Permalink to this headline">#</a></h2>
<p>After following the instructions above, you should be able to compile and run your CODAL applications. However, Visual Studio Code will not yet be
configured correctly, unless you’ve done this sort of stuff before! It’s a wise idea to do this as it will provide syntax highlighting and other
features provided by Intellisense which can make your programming life easier!</p>
<p>Firstly, you’ll want to install the <code class="docutils literal notranslate"><span class="pre">CMake</span></code> and <code class="docutils literal notranslate"><span class="pre">C/C++</span></code> extensions. You may get a prompt to install these automatically, or alternatively, click
the <code class="docutils literal notranslate"><span class="pre">Extensions</span></code> icon on the left to search and install them.</p>
<p>Once these have installed and Visual Studio Code has re-indexed your code, you might see an error being highlighted in the <code class="docutils literal notranslate"><span class="pre">main.cpp</span></code> file. This
is just because we haven’t yet configured the correct compiler. Press <code class="docutils literal notranslate"><span class="pre">F1</span></code> (or <code class="docutils literal notranslate"><span class="pre">View</span> <span class="pre">&gt;</span> <span class="pre">Command</span> <span class="pre">Palette</span></code>), and type <code class="docutils literal notranslate"><span class="pre">configure</span></code>. Select the
<code class="docutils literal notranslate"><span class="pre">CMake:</span> <span class="pre">Configure</span></code> option. You then want to select the <code class="docutils literal notranslate"><span class="pre">arm-none-eabi</span></code> compiler.</p>
<p>Make sure to click accept if you receive a prompt asking permission for CMake to configure Intellisense.</p>
</section>
<section id="debugging-in-visual-studio-code">
<h2>Debugging in Visual Studio Code<a class="headerlink" href="#debugging-in-visual-studio-code" title="Permalink to this headline">#</a></h2>
<p>Now, you’re able to create and run CODAL applications, but you’re unable currently to debug your applications directly within Visual Studio Code.
Debugging is an important part of software development, as it allows you to find errors which might be hiding within your code that are tricky to
spot otherwise. It allows you to step through your code, which means you can look at the data and memory of your program after each individual line
of code is ran, as well as to set breakpoints, which tell your code to pause once it reaches a certain line of code, until you hit resume manually.</p>
<p>You can find out more details about debugging within Visual Studio Code on their <a class="reference external" href="https://code.visualstudio.com/docs/editor/debugging">website</a>.</p>
<p>To set this up, we need to install a debugger for your hardware. This is a program which allows Visual Studio Code to connect through to your
physical device (e.g. micro:bit) to send and receive the data it needs to operate. Download the <code class="docutils literal notranslate"><span class="pre">Cortex-Debug</span></code> extension for Visual Studio Code.
This is a debugger which provides support for the type of devices which run CODAL.</p>
<p>Next, make sure you have downloaded and installed either pyOCD or OpenOCD, as instructed within <a class="reference internal" href="prerequisites.html"><span class="doc">Installation - Tools</span></a>.</p>
<p>Then, you need to <cite>download this configuration file &lt;https://raw.githubusercontent.com/lancaster-university/microbit-v2-samples/master/.vscode/launch.json&gt;</cite>.
This is a file which sets up debugging configurations within Visual Studio Code. This file is specifically designed for debugging micro:bit v2 devices,
and so therefore you will need to modify this file as needed if you are using a different device. Consult the documentation for your specific device
if this is the case.</p>
<p>Place the file you have downloaded into the <code class="docutils literal notranslate"><span class="pre">.vscode</span></code> folder inside your application folder. If this folder doesn’t exist, you should manually create it.</p>
<p>At this point, you can switch to the <code class="docutils literal notranslate"><span class="pre">Run</span> <span class="pre">and</span> <span class="pre">Debug</span></code> panel, on the left. You should see a drop-down box at the top of the panel, containing
<code class="docutils literal notranslate"><span class="pre">micro:bit</span> <span class="pre">PyOCD</span> <span class="pre">Cortex</span> <span class="pre">Debug</span></code> and <code class="docutils literal notranslate"><span class="pre">micro:bit</span> <span class="pre">OpenOCD</span> <span class="pre">Cortex</span> <span class="pre">Debug</span></code>. These are the configurations you installed by downloading the <code class="docutils literal notranslate"><span class="pre">launch.json</span></code> file.
You should select the appropriate option depending on which debugger you installed.</p>
<p>Next, ensure your micro:bit is plugged into your computer, and hit the green arrow to start debugging! This will make sure your program is compiled and
copied to your micro:bit, meaning you can skip the process of running the <code class="docutils literal notranslate"><span class="pre">build.py</span></code> script manually.</p>
<p>To test out the debugger, try placing a breakpoint. You can do this by clicking in the space to the left of the corresponding line number in the code editor.
Restart your program, and see if your program pauses at the breakpoints you set!</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Unfortunately, sometimes due to a variety of reasons, attempting to start the debugger can result in errors. Much of the time this can be resolved by
trying again, reconnecting your device to your computer, or restarting your computer entirely.</p>
</div>
</section>
<section id="older-projects">
<h2>Older Projects<a class="headerlink" href="#older-projects" title="Permalink to this headline">#</a></h2>
<p>Older projects had the build tools baked into the source code, but as <code class="docutils literal notranslate"><span class="pre">codal-bootstrap</span></code> maintains backwards compatibility with the older tools, they
should operate in much the same way as described here, with the exception of the initial download phase.</p>
</section>
</section>


              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="prerequisites.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Installation - Tools</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="../projects/index.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Projects</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Microbit Foundation, Lancaster University<br/>
  
      &copy; Copyright 2022, Microbit Foundation, Lancaster University.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>